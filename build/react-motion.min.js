!(function(e, t) {
  'object' == typeof exports && 'undefined' != typeof module
    ? t(exports, require('react'))
    : 'function' == typeof define && define.amd
    ? define(['exports', 'react'], t)
    : t((e.ReactMotion = {}), e.React);
})(this, function(e, r) {
  'use strict';
  function p() {
    return (p =
      Object.assign ||
      function(e) {
        for (var t = 1; t < arguments.length; t++) {
          var n = arguments[t];
          for (var r in n)
            Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
        }
        return e;
      }).apply(this, arguments);
  }
  function a(e, t) {
    (e.prototype = Object.create(t.prototype)),
      ((e.prototype.constructor = e).__proto__ = t);
  }
  function b(e) {
    var t = {};
    for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = 0);
    return t;
  }
  function y(e) {
    var t = {};
    for (var n in e)
      Object.prototype.hasOwnProperty.call(e, n) &&
        (t[n] = 'number' == typeof e[n] ? e[n] : e[n].val);
    return t;
  }
  r = r && r.hasOwnProperty('default') ? r.default : r;
  var u = [0, 0];
  function M(e, t, n, r, a, o, i) {
    var l = n + (-a * (t - r) + -o * n) * e,
      s = t + l * e;
    return (
      Math.abs(l) < i && Math.abs(s - r) < i
        ? ((u[0] = r), (u[1] = 0))
        : ((u[0] = s), (u[1] = l)),
      u
    );
  }
  var t =
    'undefined' != typeof globalThis
      ? globalThis
      : 'undefined' != typeof window
      ? window
      : 'undefined' != typeof global
      ? global
      : 'undefined' != typeof self
      ? self
      : {};
  function n(e, t) {
    return e((t = { exports: {} }), t.exports), t.exports;
  }
  for (
    var o,
      i,
      l,
      V = n(function(i) {
        (function() {
          var e, t, n, r, a, o;
          'undefined' != typeof performance &&
          null !== performance &&
          performance.now
            ? (i.exports = function() {
                return performance.now();
              })
            : 'undefined' != typeof process &&
              null !== process &&
              process.hrtime
            ? ((i.exports = function() {
                return (e() - a) / 1e6;
              }),
              (t = process.hrtime),
              (r = (e = function() {
                var e = t();
                return 1e9 * e[0] + e[1];
              })()),
              (o = 1e9 * process.uptime()),
              (a = r - o))
            : (n = Date.now
                ? ((i.exports = function() {
                    return Date.now() - n;
                  }),
                  Date.now())
                : ((i.exports = function() {
                    return new Date().getTime() - n;
                  }),
                  new Date().getTime()));
        }.call(t));
      }),
      s = n(function(i) {
        (function() {
          var e, t, n, r, a, o;
          'undefined' != typeof performance &&
          null !== performance &&
          performance.now
            ? (i.exports = function() {
                return performance.now();
              })
            : 'undefined' != typeof process &&
              null !== process &&
              process.hrtime
            ? ((i.exports = function() {
                return (e() - a) / 1e6;
              }),
              (t = process.hrtime),
              (r = (e = function() {
                var e = t();
                return 1e9 * e[0] + e[1];
              })()),
              (o = 1e9 * process.uptime()),
              (a = r - o))
            : (n = Date.now
                ? ((i.exports = function() {
                    return Date.now() - n;
                  }),
                  Date.now())
                : ((i.exports = function() {
                    return new Date().getTime() - n;
                  }),
                  new Date().getTime()));
        }.call(t));
      }),
      c = 'undefined' == typeof window ? t : window,
      f = ['moz', 'webkit'],
      m = 'AnimationFrame',
      d = c['request' + m],
      h = c['cancel' + m] || c['cancelRequest' + m],
      v = 0;
    !d && v < f.length;
    v++
  )
    (d = c[f[v] + 'Request' + m]),
      (h = c[f[v] + 'Cancel' + m] || c[f[v] + 'CancelRequest' + m]);
  (d && h) ||
    ((i = o = 0),
    (l = []),
    (d = function(e) {
      var t, n;
      return (
        0 === l.length &&
          ((t = s()),
          (n = Math.max(0, 1e3 / 60 - (t - o))),
          (o = n + t),
          setTimeout(function() {
            for (var e = l.slice(0), t = (l.length = 0); t < e.length; t++)
              if (!e[t].cancelled)
                try {
                  e[t].callback(o);
                } catch (e) {
                  setTimeout(function() {
                    throw e;
                  }, 0);
                }
          }, Math.round(n))),
        l.push({ handle: ++i, callback: e, cancelled: !1 }),
        i
      );
    }),
    (h = function(e) {
      for (var t = 0; t < l.length; t++)
        l[t].handle === e && (l[t].cancelled = !0);
    }));
  function S(e) {
    return d.call(c, e);
  }
  function A(e, t, n) {
    for (var r in t)
      if (Object.prototype.hasOwnProperty.call(t, r)) {
        if (0 !== n[r]) return;
        var a = 'number' == typeof t[r] ? t[r] : t[r].val;
        if (e[r] !== a) return;
      }
    return 1;
  }
  (S.cancel = function() {
    h.apply(c, arguments);
  }),
    (S.polyfill = function(e) {
      ((e = e || c).requestAnimationFrame = d), (e.cancelAnimationFrame = h);
    });
  var g = 'function' == typeof Symbol && Symbol.for,
    I = g ? Symbol.for('react.element') : 60103,
    P = g ? Symbol.for('react.portal') : 60106,
    T = g ? Symbol.for('react.fragment') : 60107,
    w = g ? Symbol.for('react.strict_mode') : 60108,
    O = g ? Symbol.for('react.profiler') : 60114,
    k = g ? Symbol.for('react.provider') : 60109,
    D = g ? Symbol.for('react.context') : 60110,
    j = g ? Symbol.for('react.async_mode') : 60111,
    C = g ? Symbol.for('react.concurrent_mode') : 60111,
    x = g ? Symbol.for('react.forward_ref') : 60112,
    $ = g ? Symbol.for('react.suspense') : 60113,
    _ = g ? Symbol.for('react.suspense_list') : 60120,
    N = g ? Symbol.for('react.memo') : 60115,
    E = g ? Symbol.for('react.lazy') : 60116,
    R = g ? Symbol.for('react.block') : 60121,
    F = g ? Symbol.for('react.fundamental') : 60117,
    L = g ? Symbol.for('react.responder') : 60118,
    U = g ? Symbol.for('react.scope') : 60119;
  function W(e) {
    if ('object' == typeof e && null !== e) {
      var t = e.$$typeof;
      switch (t) {
        case I:
          switch ((e = e.type)) {
            case j:
            case C:
            case T:
            case O:
            case w:
            case $:
              return e;
            default:
              switch ((e = e && e.$$typeof)) {
                case D:
                case x:
                case E:
                case N:
                case k:
                  return e;
                default:
                  return t;
              }
          }
        case P:
          return t;
      }
    }
  }
  function q(e) {
    return W(e) === C;
  }
  var z = {
      AsyncMode: j,
      ConcurrentMode: C,
      ContextConsumer: D,
      ContextProvider: k,
      Element: I,
      ForwardRef: x,
      Fragment: T,
      Lazy: E,
      Memo: N,
      Portal: P,
      Profiler: O,
      StrictMode: w,
      Suspense: $,
      isAsyncMode: function(e) {
        return q(e) || W(e) === j;
      },
      isConcurrentMode: q,
      isContextConsumer: function(e) {
        return W(e) === D;
      },
      isContextProvider: function(e) {
        return W(e) === k;
      },
      isElement: function(e) {
        return 'object' == typeof e && null !== e && e.$$typeof === I;
      },
      isForwardRef: function(e) {
        return W(e) === x;
      },
      isFragment: function(e) {
        return W(e) === T;
      },
      isLazy: function(e) {
        return W(e) === E;
      },
      isMemo: function(e) {
        return W(e) === N;
      },
      isPortal: function(e) {
        return W(e) === P;
      },
      isProfiler: function(e) {
        return W(e) === O;
      },
      isStrictMode: function(e) {
        return W(e) === w;
      },
      isSuspense: function(e) {
        return W(e) === $;
      },
      isValidElementType: function(e) {
        return (
          'string' == typeof e ||
          'function' == typeof e ||
          e === T ||
          e === C ||
          e === O ||
          e === w ||
          e === $ ||
          e === _ ||
          ('object' == typeof e &&
            null !== e &&
            (e.$$typeof === E ||
              e.$$typeof === N ||
              e.$$typeof === k ||
              e.$$typeof === D ||
              e.$$typeof === x ||
              e.$$typeof === F ||
              e.$$typeof === L ||
              e.$$typeof === U ||
              e.$$typeof === R))
        );
      },
      typeOf: W,
    },
    B = n(function(e, t) {}),
    H =
      (B.AsyncMode,
      B.ConcurrentMode,
      B.ContextConsumer,
      B.ContextProvider,
      B.Element,
      B.ForwardRef,
      B.Fragment,
      B.Lazy,
      B.Memo,
      B.Portal,
      B.Profiler,
      B.StrictMode,
      B.Suspense,
      B.isAsyncMode,
      B.isConcurrentMode,
      B.isContextConsumer,
      B.isContextProvider,
      B.isElement,
      B.isForwardRef,
      B.isFragment,
      B.isLazy,
      B.isMemo,
      B.isPortal,
      B.isProfiler,
      B.isStrictMode,
      B.isSuspense,
      B.isValidElementType,
      B.typeOf,
      n(function(e) {
        e.exports = z;
      }),
      Object.getOwnPropertySymbols),
    K = Object.prototype.hasOwnProperty,
    Y = Object.prototype.propertyIsEnumerable;
  !(function() {
    try {
      if (!Object.assign) return;
      var e = new String('abc');
      if (((e[5] = 'de'), '5' === Object.getOwnPropertyNames(e)[0])) return;
      for (var t = {}, n = 0; n < 10; n++) t['_' + String.fromCharCode(n)] = n;
      if (
        '0123456789' !==
        Object.getOwnPropertyNames(t)
          .map(function(e) {
            return t[e];
          })
          .join('')
      )
        return;
      var r = {};
      return (
        'abcdefghijklmnopqrst'.split('').forEach(function(e) {
          r[e] = e;
        }),
        'abcdefghijklmnopqrst' !== Object.keys(Object.assign({}, r)).join('')
          ? void 0
          : 1
      );
    } catch (e) {
      return;
    }
  })() || Object.assign,
    Function.call.bind(Object.prototype.hasOwnProperty);
  function G() {}
  function J() {}
  J.resetWarningCache = G;
  n(function(e) {
    function t(e, t, n, r, a, o) {
      if ('SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED' !== o) {
        var i = new Error(
          'Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types',
        );
        throw ((i.name = 'Invariant Violation'), i);
      }
    }
    function n() {
      return t;
    }
    var r;
    e.exports = (r = {
      array: (t.isRequired = t),
      bool: t,
      func: t,
      number: t,
      object: t,
      string: t,
      symbol: t,
      any: t,
      arrayOf: n,
      element: t,
      elementType: t,
      instanceOf: n,
      node: t,
      objectOf: n,
      oneOf: n,
      oneOfType: n,
      shape: n,
      exact: n,
      checkPropTypes: J,
      resetWarningCache: G,
    }).PropTypes = r;
  });
  var Q = 1e3 / 60,
    X = (function(t) {
      function e(e) {
        var g = t.call(this, e) || this;
        return (
          (g.unmounting = !1),
          (g.wasAnimating = !1),
          (g.animationID = null),
          (g.prevTime = 0),
          (g.accumulatedTime = 0),
          (g.unreadPropStyle = null),
          (g.clearUnreadPropStyle = function(e) {
            var t,
              n = !1,
              r = g.state,
              a = r.currentStyle,
              o = r.currentVelocity,
              i = r.lastIdealStyle,
              l = r.lastIdealVelocity;
            for (var s in e) {
              Object.prototype.hasOwnProperty.call(e, s) &&
                'number' == typeof (t = e[s]) &&
                  (n ||
                    ((n = !0),
                    (a = p({}, a)),
                    (o = p({}, o)),
                    (i = p({}, i)),
                    (l = p({}, l))),
                  (a[s] = t),
                  (o[s] = 0),
                  (i[s] = t),
                  (l[s] = 0));
            }
            n &&
              g.setState({
                currentStyle: a,
                currentVelocity: o,
                lastIdealStyle: i,
                lastIdealVelocity: l,
              });
          }),
          (g.startAnimationIfNecessary = function() {
            g.unmounting ||
              null != g.animationID ||
              (g.animationID = S(function(e) {
                if (!g.unmounting) {
                  var t = g.props.style;
                  if (A(g.state.currentStyle, t, g.state.currentVelocity))
                    return (
                      g.wasAnimating && g.props.onRest && g.props.onRest(),
                      (g.animationID = null),
                      (g.wasAnimating = !1),
                      void (g.accumulatedTime = 0)
                    );
                  g.wasAnimating = !0;
                  var n = e || V(),
                    r = n - g.prevTime;
                  if (
                    ((g.prevTime = n),
                    (g.accumulatedTime = g.accumulatedTime + r),
                    g.accumulatedTime > 10 * Q && (g.accumulatedTime = 0),
                    0 === g.accumulatedTime)
                  )
                    return (
                      (g.animationID = null), void g.startAnimationIfNecessary()
                    );
                  var a =
                      (g.accumulatedTime -
                        Math.floor(g.accumulatedTime / Q) * Q) /
                      Q,
                    o = Math.floor(g.accumulatedTime / Q),
                    i = {},
                    l = {},
                    s = {},
                    u = {};
                  for (var c in t)
                    if (Object.prototype.hasOwnProperty.call(t, c)) {
                      var f = t[c];
                      if ('number' == typeof f)
                        (s[c] = f), (u[c] = 0), (i[c] = f), (l[c] = 0);
                      else {
                        for (
                          var p = g.state.lastIdealStyle[c],
                            y = g.state.lastIdealVelocity[c],
                            m = 0;
                          m < o;
                          m++
                        )
                          var d = M(
                              Q / 1e3,
                              p,
                              y,
                              f.val,
                              f.stiffness,
                              f.damping,
                              f.precision,
                            ),
                            p = d[0],
                            y = d[1];
                        var h = M(
                            Q / 1e3,
                            p,
                            y,
                            f.val,
                            f.stiffness,
                            f.damping,
                            f.precision,
                          ),
                          v = h[0],
                          S = h[1];
                        (s[c] = p + (v - p) * a),
                          (u[c] = y + (S - y) * a),
                          (i[c] = p),
                          (l[c] = y);
                      }
                    }
                  (g.animationID = null),
                    (g.accumulatedTime -= o * Q),
                    g.setState({
                      currentStyle: s,
                      currentVelocity: u,
                      lastIdealStyle: i,
                      lastIdealVelocity: l,
                    }),
                    (g.unreadPropStyle = null),
                    g.startAnimationIfNecessary();
                }
              }));
          }),
          (g.state = g.defaultState()),
          g
        );
      }
      a(e, t);
      var n = e.prototype;
      return (
        (n.defaultState = function() {
          var e = this.props,
            t = e.defaultStyle,
            n = e.style,
            r = t || y(n),
            a = b(r);
          return {
            currentStyle: r,
            currentVelocity: a,
            lastIdealStyle: r,
            lastIdealVelocity: a,
          };
        }),
        (n.componentDidMount = function() {
          (this.prevTime = V()), this.startAnimationIfNecessary();
        }),
        (n.UNSAFE_componentWillReceiveProps = function(e) {
          null != this.unreadPropStyle &&
            this.clearUnreadPropStyle(this.unreadPropStyle),
            (this.unreadPropStyle = e.style),
            null == this.animationID &&
              ((this.prevTime = V()), this.startAnimationIfNecessary());
        }),
        (n.componentWillUnmount = function() {
          (this.unmounting = !0),
            null != this.animationID &&
              (S.cancel(this.animationID), (this.animationID = null));
        }),
        (n.render = function() {
          var e = this.props.children(this.state.currentStyle);
          return e && r.Children.only(e);
        }),
        e
      );
    })(r.Component),
    Z = 1e3 / 60;
  var ee = (function(t) {
    function e(e) {
      var O = t.call(this, e) || this;
      return (
        (O.unmounting = !1),
        (O.animationID = null),
        (O.prevTime = 0),
        (O.accumulatedTime = 0),
        (O.unreadPropStyles = null),
        (O.clearUnreadPropStyle = function(e) {
          for (
            var t = O.state,
              n = t.currentStyles,
              r = t.currentVelocities,
              a = t.lastIdealStyles,
              o = t.lastIdealVelocities,
              i = !1,
              l = 0;
            l < e.length;
            l++
          ) {
            var s,
              u = e[l],
              c = !1;
            for (var f in u) {
              Object.prototype.hasOwnProperty.call(u, f) &&
                'number' == typeof (s = u[f]) &&
                  (c ||
                    ((i = c = !0),
                    (n[l] = p({}, n[l])),
                    (r[l] = p({}, r[l])),
                    (a[l] = p({}, a[l])),
                    (o[l] = p({}, o[l]))),
                  (n[l][f] = s),
                  (r[l][f] = 0),
                  (a[l][f] = s),
                  (o[l][f] = 0));
            }
          }
          i &&
            O.setState({
              currentStyles: n,
              currentVelocities: r,
              lastIdealStyles: a,
              lastIdealVelocities: o,
            });
        }),
        (O.startAnimationIfNecessary = function() {
          O.unmounting ||
            null != O.animationID ||
            (O.animationID = S(function(e) {
              if (!O.unmounting) {
                var t = O.props.styles(O.state.lastIdealStyles);
                if (
                  (function(e, t, n) {
                    for (var r = 0; r < e.length; r++)
                      if (!A(e[r], t[r], n[r])) return;
                    return 1;
                  })(O.state.currentStyles, t, O.state.currentVelocities)
                )
                  return (O.animationID = null), void (O.accumulatedTime = 0);
                var n = e || V(),
                  r = n - O.prevTime;
                if (
                  ((O.prevTime = n),
                  (O.accumulatedTime = O.accumulatedTime + r),
                  O.accumulatedTime > 10 * Z && (O.accumulatedTime = 0),
                  0 === O.accumulatedTime)
                )
                  return (
                    (O.animationID = null), void O.startAnimationIfNecessary()
                  );
                for (
                  var a =
                      (O.accumulatedTime -
                        Math.floor(O.accumulatedTime / Z) * Z) /
                      Z,
                    o = Math.floor(O.accumulatedTime / Z),
                    i = [],
                    l = [],
                    s = [],
                    u = [],
                    c = 0;
                  c < t.length;
                  c++
                ) {
                  var f = t[c],
                    p = {},
                    y = {},
                    m = {},
                    d = {};
                  for (var h in f)
                    if (Object.prototype.hasOwnProperty.call(f, h)) {
                      var v = f[h];
                      if ('number' == typeof v)
                        (p[h] = v), (y[h] = 0), (m[h] = v), (d[h] = 0);
                      else {
                        for (
                          var S = O.state.lastIdealStyles[c][h],
                            g = O.state.lastIdealVelocities[c][h],
                            b = 0;
                          b < o;
                          b++
                        )
                          var I = M(
                              Z / 1e3,
                              S,
                              g,
                              v.val,
                              v.stiffness,
                              v.damping,
                              v.precision,
                            ),
                            S = I[0],
                            g = I[1];
                        var P = M(
                            Z / 1e3,
                            S,
                            g,
                            v.val,
                            v.stiffness,
                            v.damping,
                            v.precision,
                          ),
                          T = P[0],
                          w = P[1];
                        (p[h] = S + (T - S) * a),
                          (y[h] = g + (w - g) * a),
                          (m[h] = S),
                          (d[h] = g);
                      }
                    }
                  (s[c] = p), (u[c] = y), (i[c] = m), (l[c] = d);
                }
                (O.animationID = null),
                  (O.accumulatedTime -= o * Z),
                  O.setState({
                    currentStyles: s,
                    currentVelocities: u,
                    lastIdealStyles: i,
                    lastIdealVelocities: l,
                  }),
                  (O.unreadPropStyles = null),
                  O.startAnimationIfNecessary();
              }
            }));
        }),
        (O.state = O.defaultState()),
        O
      );
    }
    a(e, t);
    var n = e.prototype;
    return (
      (n.defaultState = function() {
        var e = this.props,
          t = e.defaultStyles,
          n = e.styles,
          r = t || n().map(y),
          a = r.map(b);
        return {
          currentStyles: r,
          currentVelocities: a,
          lastIdealStyles: r,
          lastIdealVelocities: a,
        };
      }),
      (n.componentDidMount = function() {
        (this.prevTime = V()), this.startAnimationIfNecessary();
      }),
      (n.UNSAFE_componentWillReceiveProps = function(e) {
        null != this.unreadPropStyles &&
          this.clearUnreadPropStyle(this.unreadPropStyles),
          (this.unreadPropStyles = e.styles(this.state.lastIdealStyles)),
          null == this.animationID &&
            ((this.prevTime = V()), this.startAnimationIfNecessary());
      }),
      (n.componentWillUnmount = function() {
        (this.unmounting = !0),
          null != this.animationID &&
            (S.cancel(this.animationID), (this.animationID = null));
      }),
      (n.render = function() {
        var e = this.props.children(this.state.currentStyles);
        return e && r.Children.only(e);
      }),
      e
    );
  })(r.Component);
  var te = 1e3 / 60;
  function ne(e, t, r) {
    var a = t;
    return null == a
      ? e.map(function(e, t) {
          return { key: e.key, data: e.data, style: r[t] };
        })
      : e.map(function(e, t) {
          for (var n = 0; n < a.length; n++)
            if (a[n].key === e.key)
              return { key: a[n].key, data: a[n].data, style: r[t] };
          return { key: e.key, data: e.data, style: r[t] };
        });
  }
  function re(e, r, a, t, n, o, i, l, s) {
    for (
      var u = (function(e, c, t) {
          for (var f = {}, n = 0; n < e.length; n++) f[e[n].key] = n;
          for (var p = {}, r = 0; r < c.length; r++) p[c[r].key] = r;
          for (var a = [], o = 0; o < c.length; o++) a[o] = c[o];
          for (var i, l = 0; l < e.length; l++) {
            Object.prototype.hasOwnProperty.call(p, e[l].key) ||
              (null != (i = t(l, e[l])) && a.push(i));
          }
          return a.sort(function(e, t) {
            var n = p[e.key],
              r = p[t.key],
              a = f[e.key],
              o = f[t.key];
            if (null != n && null != r) return p[e.key] - p[t.key];
            if (null != a && null != o) return f[e.key] - f[t.key];
            if (null != n) {
              for (var i = 0; i < c.length; i++) {
                var l = c[i].key;
                if (Object.prototype.hasOwnProperty.call(f, l)) {
                  if (n < p[l] && o > f[l]) return -1;
                  if (n > p[l] && o < f[l]) return 1;
                }
              }
              return 1;
            }
            for (var s = 0; s < c.length; s++) {
              var u = c[s].key;
              if (Object.prototype.hasOwnProperty.call(f, u)) {
                if (r < p[u] && a > f[u]) return 1;
                if (r > p[u] && a < f[u]) return -1;
              }
            }
            return -1;
          });
        })(t, n, function(e, t) {
          var n = r(t);
          return null == n || A(o[e], n, i[e])
            ? (a({ key: t.key, data: t.data }), null)
            : { key: t.key, data: t.data, style: n };
        }),
        c = [],
        f = [],
        p = [],
        y = [],
        m = 0;
      m < u.length;
      m++
    ) {
      for (var d, h, v = u[m], S = null, g = 0; g < t.length; g++)
        if (t[g].key === v.key) {
          S = g;
          break;
        }
      null == S
        ? ((d = e(v)),
          (c[m] = d),
          (p[m] = d),
          (h = b(v.style)),
          (f[m] = h),
          (y[m] = h))
        : ((c[m] = o[S]), (p[m] = l[S]), (f[m] = i[S]), (y[m] = s[S]));
    }
    return [u, c, f, p, y];
  }
  var ae = (function(t) {
    function e(e) {
      var j = t.call(this, e) || this;
      return (
        (j.unmounting = !1),
        (j.animationID = null),
        (j.prevTime = 0),
        (j.accumulatedTime = 0),
        (j.unreadPropStyles = null),
        (j.clearUnreadPropStyle = function(e) {
          for (
            var t = re(
                j.props.willEnter,
                j.props.willLeave,
                j.props.didLeave,
                j.state.mergedPropsStyles,
                e,
                j.state.currentStyles,
                j.state.currentVelocities,
                j.state.lastIdealStyles,
                j.state.lastIdealVelocities,
              ),
              n = t[0],
              r = t[1],
              a = t[2],
              o = t[3],
              i = t[4],
              l = 0;
            l < e.length;
            l++
          ) {
            var s,
              u = e[l].style,
              c = !1;
            for (var f in u) {
              Object.prototype.hasOwnProperty.call(u, f) &&
                'number' == typeof (s = u[f]) &&
                  (c ||
                    ((c = !0),
                    (r[l] = p({}, r[l])),
                    (a[l] = p({}, a[l])),
                    (o[l] = p({}, o[l])),
                    (i[l] = p({}, i[l])),
                    (n[l] = {
                      key: n[l].key,
                      data: n[l].data,
                      style: p({}, n[l].style),
                    })),
                  (r[l][f] = s),
                  (a[l][f] = 0),
                  (o[l][f] = s),
                  (i[l][f] = 0),
                  (n[l].style[f] = s));
            }
          }
          j.setState({
            currentStyles: r,
            currentVelocities: a,
            mergedPropsStyles: n,
            lastIdealStyles: o,
            lastIdealVelocities: i,
          });
        }),
        (j.startAnimationIfNecessary = function() {
          j.unmounting ||
            null != j.animationID ||
            (j.animationID = S(function(e) {
              if (!j.unmounting) {
                var t = j.props.styles,
                  n =
                    'function' == typeof t
                      ? t(
                          ne(
                            j.state.mergedPropsStyles,
                            j.unreadPropStyles,
                            j.state.lastIdealStyles,
                          ),
                        )
                      : t;
                if (
                  (function(e, t, n, r) {
                    if (r.length === t.length) {
                      for (var a = 0; a < r.length; a++)
                        if (r[a].key !== t[a].key) return;
                      for (var o = 0; o < r.length; o++)
                        if (!A(e[o], t[o].style, n[o])) return;
                      return 1;
                    }
                  })(
                    j.state.currentStyles,
                    n,
                    j.state.currentVelocities,
                    j.state.mergedPropsStyles,
                  )
                )
                  return (j.animationID = null), void (j.accumulatedTime = 0);
                var r = e || V(),
                  a = r - j.prevTime;
                if (
                  ((j.prevTime = r),
                  (j.accumulatedTime = j.accumulatedTime + a),
                  j.accumulatedTime > 10 * te && (j.accumulatedTime = 0),
                  0 === j.accumulatedTime)
                )
                  return (
                    (j.animationID = null), void j.startAnimationIfNecessary()
                  );
                for (
                  var o =
                      (j.accumulatedTime -
                        Math.floor(j.accumulatedTime / te) * te) /
                      te,
                    i = Math.floor(j.accumulatedTime / te),
                    l = re(
                      j.props.willEnter,
                      j.props.willLeave,
                      j.props.didLeave,
                      j.state.mergedPropsStyles,
                      n,
                      j.state.currentStyles,
                      j.state.currentVelocities,
                      j.state.lastIdealStyles,
                      j.state.lastIdealVelocities,
                    ),
                    s = l[0],
                    u = l[1],
                    c = l[2],
                    f = l[3],
                    p = l[4],
                    y = 0;
                  y < s.length;
                  y++
                ) {
                  var m = s[y].style,
                    d = {},
                    h = {},
                    v = {},
                    S = {};
                  for (var g in m)
                    if (Object.prototype.hasOwnProperty.call(m, g)) {
                      var b = m[g];
                      if ('number' == typeof b)
                        (d[g] = b), (h[g] = 0), (v[g] = b), (S[g] = 0);
                      else {
                        for (var I = f[y][g], P = p[y][g], T = 0; T < i; T++)
                          var w = M(
                              te / 1e3,
                              I,
                              P,
                              b.val,
                              b.stiffness,
                              b.damping,
                              b.precision,
                            ),
                            I = w[0],
                            P = w[1];
                        var O = M(
                            te / 1e3,
                            I,
                            P,
                            b.val,
                            b.stiffness,
                            b.damping,
                            b.precision,
                          ),
                          k = O[0],
                          D = O[1];
                        (d[g] = I + (k - I) * o),
                          (h[g] = P + (D - P) * o),
                          (v[g] = I),
                          (S[g] = P);
                      }
                    }
                  (f[y] = v), (p[y] = S), (u[y] = d), (c[y] = h);
                }
                (j.animationID = null),
                  (j.accumulatedTime -= i * te),
                  j.setState({
                    currentStyles: u,
                    currentVelocities: c,
                    lastIdealStyles: f,
                    lastIdealVelocities: p,
                    mergedPropsStyles: s,
                  }),
                  (j.unreadPropStyles = null),
                  j.startAnimationIfNecessary();
              }
            }));
        }),
        (j.state = j.defaultState()),
        j
      );
    }
    a(e, t);
    var n = e.prototype;
    return (
      (n.defaultState = function() {
        var e = this.props,
          t = e.defaultStyles,
          n = e.styles,
          r = e.willEnter,
          a = e.willLeave,
          o = e.didLeave,
          i = 'function' == typeof n ? n(t) : n,
          l =
            null == t
              ? i
              : t.map(function(e) {
                  for (var t = 0; t < i.length; t++)
                    if (i[t].key === e.key) return i[t];
                  return e;
                }),
          s =
            null == t
              ? i.map(function(e) {
                  return y(e.style);
                })
              : t.map(function(e) {
                  return y(e.style);
                }),
          u =
            null == t
              ? i.map(function(e) {
                  return b(e.style);
                })
              : t.map(function(e) {
                  return b(e.style);
                }),
          c = re(r, a, o, l, i, s, u, s, u),
          f = c[0];
        return {
          currentStyles: c[1],
          currentVelocities: c[2],
          lastIdealStyles: c[3],
          lastIdealVelocities: c[4],
          mergedPropsStyles: f,
        };
      }),
      (n.componentDidMount = function() {
        (this.prevTime = V()), this.startAnimationIfNecessary();
      }),
      (n.UNSAFE_componentWillReceiveProps = function(e) {
        this.unreadPropStyles &&
          this.clearUnreadPropStyle(this.unreadPropStyles);
        var t = e.styles;
        (this.unreadPropStyles =
          'function' == typeof t
            ? t(
                ne(
                  this.state.mergedPropsStyles,
                  this.unreadPropStyles,
                  this.state.lastIdealStyles,
                ),
              )
            : t),
          null == this.animationID &&
            ((this.prevTime = V()), this.startAnimationIfNecessary());
      }),
      (n.componentWillUnmount = function() {
        (this.unmounting = !0),
          null != this.animationID &&
            (S.cancel(this.animationID), (this.animationID = null));
      }),
      (n.render = function() {
        var e = ne(
            this.state.mergedPropsStyles,
            this.unreadPropStyles,
            this.state.currentStyles,
          ),
          t = this.props.children(e);
        return t && r.Children.only(t);
      }),
      e
    );
  })(r.Component);
  ae.defaultProps = {
    willEnter: function(e) {
      return y(e.style);
    },
    willLeave: function() {
      return null;
    },
    didLeave: function() {},
  };
  var oe = {
      noWobble: { stiffness: 170, damping: 26 },
      gentle: { stiffness: 120, damping: 14 },
      wobbly: { stiffness: 180, damping: 12 },
      stiff: { stiffness: 210, damping: 20 },
    },
    ie = p({}, oe.noWobble, { precision: 0.01 });
  (e.Motion = X),
    (e.StaggeredMotion = ee),
    (e.TransitionMotion = ae),
    (e.spring = function(e, t) {
      return p({}, ie, t, { val: e });
    }),
    (e.presets = oe),
    (e.stripStyle = y),
    (e.reorderKeys = function() {}),
    Object.defineProperty(e, '__esModule', { value: !0 });
});
